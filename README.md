# Hackathon Code4Cancer --> IA-Maria 🤖🧠

## 🌟 LEMA: Detectar cedo é hackear o câncer

## 🎯 OBJETIVO DO HACKATHON: Como ampliar o acesso ao rastreamento e à detecção precoce do câncer?

## 🤖👱🏻‍♀️ IA-Maria

Sistema inteligente de rastreamento, detecção precoce do câncer e encaminhamento oncológico

📌 Objetivo: Ampliar o acesso ao rastreamento e à detecção precoce do câncer

A IA-Maria é uma assistente clínica inteligente desenvolvida para apoiar profissionais da Atenção Primária à Saúde na triagem, pré-diagnóstico e orientação de condutas para câncer colorretal e pulmonar.

Inspirada na experiência de médicos de linha de frente, a IA-Maria atua antes da consulta, identificando sinais de risco, priorizando casos e evitando etapas desnecessárias. Com isso, ela ajuda a reduzir exames desnecessários, otimizar o tempo clínico e melhorar o encaminhamento de pacientes, garantindo um atendimento mais eficiente e humanizado.

Mais do que uma ferramenta, a IA-Maria é uma aliada do médico, permitindo que os profissionais se concentrem no cuidado real do paciente, enquanto amplia o acesso ao rastreamento e à detecção precoce do câncer, beneficiando tanto os profissionais quanto os pacientes.

## 📚 Sobre o projeto

O sistema combina tecnologia avançada de inteligência artificial com bases de dados confiáveis, oferecendo suporte clínico rápido, seguro e baseado em evidências.

### 🧠 Conhecimento e funcionamento ⚙️

#### 🗂️ Abordagem RAG (Retrieval-Augmented Generation):

A IA-Maria utiliza a abordagem RAG (Retrieval-Augmented Generation) para fornecer respostas precisas e baseadas em evidências.

#### 📑 Integração de informações específicas:

A IA não se limita a conhecimento genérico pré-treinado, mas utiliza arquivos PDF e conteúdos confiáveis sobre câncer colorretal e pulmonar, além de diretrizes oficiais de organizações médicas.

#### 📋👨🏻‍⚕️ Geração de relatório médico de encaminhamento oncológico:

- Com base na análise dos dados do paciente, a IA gera automaticamente um relatório detalhado contendo:

- Encaminhamento automatizado
  Se os exames indicarem suspeita ou confirmação, a IA gera um documento com todas as informações necessárias e sugere que o paciente seja encaminhado para o oncologista

  - Identificação do paciente (idade, sexo, fatores de risco, sintomas relatados);

  - Resumo da conversa e informações complementares coletadas durante a anamnese;

  - Resultados das análises de risco e recomendações de exames;

  - Sugestão de encaminhamento para oncologista, destacando prioridade e urgência.

#### 📩 Envio automatizado do relatório para profissionais de saúde

- O relatório gerado pela IA-Maria pode ser enviado diretamente por e-mail a um médico ou profissional da saúde responsável, contendo:

  - Todos os dados do paciente (idade, sexo, fatores de risco, sintomas relatados);

  - Resumo da anamnese e da conversa realizada;

  - Resultados da análise de risco e recomendações de exames;

  - Sugestão de encaminhamento oncológico, com prioridade e urgência destacadas.

  - Esse envio automatizado garante que o especialista receba todas as informações necessárias de forma organizada e imediata, agilizando o diagnóstico e o início do tratamento, além de reduzir retrabalho e erros na comunicação clínica.

#### 📊 Geração de gráfico de risco personalizado:

- A IA também produz um gráfico visual do risco do paciente desenvolver câncer, considerando todos os fatores coletados durante a anamnese.

- O gráfico permite uma visualização clara e rápida do risco individual, facilitando a comunicação entre médico e paciente e auxiliando na decisão clínica.

#### 🧐 Suporte à decisão clínica:

- Ao combinar informações detalhadas do paciente com evidências científicas, guidelines oficiais e ensaios clínicos, a IA fornece orientações confiáveis e humanizadas, potencializando a triagem precoce e a eficiência do encaminhamento oncológico.

---

#### 🚀 A IA-Maria não se baseia apenas em conhecimento pré-treinado genérico, mas utiliza informações específicas que foram integradas ao sistema, incluindo arquivos PDF e conteúdos sobre câncer colorretal e pulmonar.

### 🗃️🎯 Integração com fontes confiáveis e guidelines oficiais:

Links e referências de organizações reconhecidas, como:

[American Cancer Society – Lung Cancer Screening Guidelines](https://www.cancer.org/health-care-professionals/american-cancer-society-prevention-early-detection-guidelines/lung-cancer-screening-guidelines.html)

[NEJM – Estudos clínicos relevantes 1](https://www.nejm.org/doi/full/10.1056/NEJMoa1911793)

[NEJM – Estudos clínicos relevantes 2](https://chatgpt.com/c/68ec06a5-38d0-8328-8b59-aa6280575bd8#:~:text=NEJM%20%E2%80%93%20Estudos%20cl%C3%ADnicos%20relevantes%202)

[INCA – Câncer Colorretal](https://chatgpt.com/c/68ec06a5-38d0-8328-8b59-aa6280575bd8#:~:text=INCA%20%E2%80%93%20C%C3%A2ncer%20Colorretal)

[INCA – Câncer de Pulmão](https://www.gov.br/inca/pt-br/assuntos/cancer/tipos/pulmao)

### 💚💛💙 Fontes internacionais e nacionais confiáveis:

- Brasil: INCA, Ministério da Saúde, SBOC

- Europa: ESMO, NICE, European Cancer Organisation

- EUA: USPSTF, NCCN, ASCO

- Ensaios clínicos e estudos populacionais:

- Pulmão: NLST, NELSON trial

- Colorretal: PLCO, NordICC, UK Flexible Sigmoidoscopy Trial

- Calculadoras de risco validadas:

- Pulmão: PLCOm2012, Bach, LLPi

- Colorretal: QCancer, CRC-PRO, Gail modificado

- Outras fontes:
  - Revisões sistemáticas, meta-análises recentes e estatísticas comparativas de incidência e mortalidade (Brasil, EUA, Europa).

### 🧠 Base de Conhecimento + PDF 📄

Screening for Colorectal Cancer
US Preventive Services Task Force Recommendation Statement:
[colorectal-cancer-screening-final-recommendation-update.pdf](docs/colorectal-cancer-screening-final-recommendation-updated.pdf)

Screening for Lung Cancer
US Preventive Services Task Force Recommendation Statement: [lung-cancer-screening-final-recommendation.pdf](docs/lung-cancer-screening-final-recommendation.pdf)

The new england journal of medicine:
Effect of Colonoscopy Screening on Risks of Colorectal Cancer and Related Death: [NEJMoa2208375.pdf](docs/NEJMoa2208375.pdf)

- ✅ guideline INCA

- ✅ guideline SBOC

- ✅ uspstf preventive services
  <br>

### ⭐ Benefícios clínicos

- Realiza triagem inteligente e humanizada, identificando pacientes de maior risco.

- Auxilia na priorização de casos e encaminhamentos, reduzindo exames desnecessários e otimizando o tempo clínico.

- Fornece suporte baseado em evidências, fortalecendo a tomada de decisão de médicos e profissionais da atenção primária.

- Ampliar o acesso ao rastreamento e à detecção precoce de câncer, beneficiando pacientes e sistemas de saúde.

## ⚙️ Como funciona a AI-Maria

A IA-Maria organiza o fluxo clínico de forma estruturada, desde a entrada de dados até o encaminhamento do paciente, oferecendo suporte completo ao profissional de saúde:

1. 🎲 Entrada de dados do paciente:

O profissional de saúde registra informações essenciais sobre o paciente, incluindo:

- Histórico médico e familiar;

- Sintomas atuais e duração;

- Resultados de exames anteriores;

- Fatores de risco conhecidos (como tabagismo, idade, hábitos alimentares, exposição ocupacional);

- Outros dados clínicos relevantes que possam influenciar a avaliação.
  <br>

2. 🕵️‍♂️ Análise pela IA:

Com base nos dados fornecidos, a IA-Maria realiza uma análise inteligente e fundamentada em evidências médicas, utilizando:

- Modelos de risco validados (PLCOm2012, QCancer, entre outros);

- Ensaios clínicos e estudos populacionais;

- Guidelines oficiais de organizações reconhecidas (INCA, ESMO, NCCN, ASCO, etc.).

A IA calcula a probabilidade de presença de câncer colorretal ou pulmonar, identificando pacientes de maior risco e sinalizando prioridades para atendimento.
<br>

3. 🗣️ Sugestão de exames:

Com base na análise, a IA-Maria indica exames apropriados, diferenciando entre:

- Investigação inicial: exames de triagem ou rastreamento precoce;

- Exames complementares: caso já haja sinais ou fatores de risco que justifiquem investigação mais detalhada.

As recomendações seguem protocolos baseados em evidências, ajudando a evitar exames desnecessários e otimizando recursos clínicos.

4. ╰┈➤ Encaminhamento automatizado:

Se os resultados dos exames indicarem suspeita ou confirmação de câncer, a IA gera automaticamente:

- Documento de encaminhamento detalhado, com histórico, dados clínicos, resultados de exames e probabilidade de risco;

- Sugestão de encaminhamento ao oncologista, destacando prioridades e urgência;

- Orientações clínicas adicionais para apoiar decisões do profissional de saúde.

Essa funcionalidade permite que o paciente chegue ao especialista com todas as informações necessárias, acelerando o diagnóstico e o início do tratamento, ao mesmo tempo que reduz erros e retrabalho.

## 🩺👩🏻‍⚕️💊 Público-Alvo

A IA-Maria foi desenvolvida para apoiar profissionais da saúde que atuam na linha de frente do atendimento, especialmente em contextos onde o rastreamento e à detecção precoce do câncer e a triagem eficiente fazem diferença. Seu uso é indicado para:

✅ Clínicos gerais

Profissionais responsáveis pelo primeiro contato com o paciente. A IA ajuda na identificação precoce de sinais de risco, orientação de condutas iniciais e encaminhamento adequado.

✅ Médicos do pronto atendimento

Em cenários com alta demanda e pouco tempo para investigação, a IA-Maria auxilia na priorização de casos suspeitos e na definição de exames apropriados, evitando atrasos e subdiagnósticos.

✅ Especialistas não-oncologistas

Profissionais de outras áreas (como pneumologistas, gastroenterologistas, geriatras, cardiologistas, hepatologistas etc.) podem utilizar a IA para apoio na tomada de decisão diante de sintomas inespecíficos ou achados incidentais.

✅ Serviços de triagem e atenção básica

Equipes de Unidades Básicas de Saúde, enfermagem, residentes e profissionais da Estratégia Saúde da Família (ESF) podem usar a IA para:

- Coletar dados estruturados.

- Identificar fatores de risco.

- Classificar prioridades.

- Encaminhar adequadamente para exames ou especialistas.

## 💻 Stack Tecnológica

### 🧠 Linguagem e Base do Projeto

#### Python — Linguagem principal do sistema, escolhida pela robustez em:

- Inteligência Artificial
- Automação
- Manipulação de dados
- Integração com APIs.

---

### ⚙️ Integração com IA

#### ✅Groq + LangChain:

-     langchain_groq.ChatGroq

#### Utilizado para comunicação com o modelo de linguagem processado pela Groq.

<br>

-     langchain_core.messages

#### Estruturação das mensagens entre usuário e sistema:

                *     SystemMessage

                *     HumanMessage

-     ChatPromptTemplate

#### Criação de prompts dinâmicos e personalizados para a IA.

---

### ✅ LangChain para RAG (Retrieval-Augmented Generation)

- FAISS — Armazenamento vetorial para buscas semânticas rápidas.

- HuggingFaceEmbeddings — Geração de embeddings para documentos médicos.

- RecursiveCharacterTextSplitter — Divisão inteligente de PDFs e textos longos.

- create_stuff_documents_chain — Combinação de documentos para análise contextualizada.

---

### 📄 Manipulação e Importação de Documentos

- PyMuPDFLoader — Leitura de PDFs médicos (guidelines, estudos clínicos).

- importar_links.carregar_links — Carregamento automático de links externos confiáveis.

---

### 🧾 Estruturação de Dados e Relatórios

- pydantic.BaseModel e Field — Estruturação e validação dos dados do paciente.

- typing (Literal, List, Dict, Optional) — Tipagem usada para organizar entradas e saídas da IA.

---

### 📊 Geração de Gráficos e Imagens

- static.gerar_imagem.gerar_grafico_probabilidades
  Criação de gráficos de risco personalizados com base nos dados do paciente.

---

### 📬 Envio de Relatório Médico por E-mail

- smtplib, MIMEMultipart, MIMEText — Envio automático do relatório ao médico ou profissional de saúde.

- datetime — Registro de data/hora no encaminhamento.

---

### 🔒 Configurações e Variáveis de Ambiente

- dotenv (load_dotenv) — Gerenciamento de chaves, senhas e credenciais de forma segura.

- os, get_terminal_size, pathlib.Path — Manipulação de arquivos e ambiente do sistema.

---

### 🧼 Processamento e Limpeza de Texto

- re — Expressões regulares para tratamento e formatação de texto.

- pathlib — Organização e leitura de arquivos e diretórios.

---

### 🧩 Módulos Internos do Projeto

- persistencia.responder — Geração de respostas da IA ao usuário.

- persistencia.criar_session — Criação e manutenção das sessões de chat.

- importar_links — Carregamento de fontes externas confiáveis.

## 🔧 Como Rodar o Projeto

- Clone este repositório:

git clone [<URL>](https://github.com/ludmila-sla/hackaton-dev4cancer)

- Crie e ative o ambiente virtual:

python3 -m venv venv
source venv/bin/activate # Linux/Mac
venv\Scripts\activate # Windows

- Instale as dependências:

pip install -r requirements.txt

- Rode a aplicação Flask:

export FLASK_APP=app.py
export FLASK_ENV=development # ativa modo debug
flask run

- Abra o navegador e acesse: http://127.0.0.1:5000/
<img width="1920" height="1053" alt="Screenshot at 2025-10-12 12-42-42" src="https://github.com/user-attachments/assets/0747fe18-524e-4535-9d19-2c6efe59bcad" />




