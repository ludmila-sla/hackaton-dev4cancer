# Hackathon Code4Cancer --> IA-Maria ğŸ¤–ğŸ§ 

## ğŸŒŸ LEMA: Detectar cedo Ã© hackear o cÃ¢ncer

## ğŸ¯ OBJETIVO DO HACKATHON: Como ampliar o acesso ao rastreamento e Ã  detecÃ§Ã£o precoce do cÃ¢ncer?

## ğŸ¤–ğŸ‘±ğŸ»â€â™€ï¸ IA-Maria

Sistema inteligente de rastreamento, detecÃ§Ã£o precoce do cÃ¢ncer e encaminhamento oncolÃ³gico

ğŸ“Œ Objetivo: Ampliar o acesso ao rastreamento e Ã  detecÃ§Ã£o precoce do cÃ¢ncer

A IA-Maria Ã© uma assistente clÃ­nica inteligente desenvolvida para apoiar profissionais da AtenÃ§Ã£o PrimÃ¡ria Ã  SaÃºde na triagem, prÃ©-diagnÃ³stico e orientaÃ§Ã£o de condutas para cÃ¢ncer colorretal e pulmonar.

Inspirada na experiÃªncia de mÃ©dicos de linha de frente, a IA-Maria atua antes da consulta, identificando sinais de risco, priorizando casos e evitando etapas desnecessÃ¡rias. Com isso, ela ajuda a reduzir exames desnecessÃ¡rios, otimizar o tempo clÃ­nico e melhorar o encaminhamento de pacientes, garantindo um atendimento mais eficiente e humanizado.

Mais do que uma ferramenta, a IA-Maria Ã© uma aliada do mÃ©dico, permitindo que os profissionais se concentrem no cuidado real do paciente, enquanto amplia o acesso ao rastreamento e Ã  detecÃ§Ã£o precoce do cÃ¢ncer, beneficiando tanto os profissionais quanto os pacientes.

## ğŸ“š Sobre o projeto

O sistema combina tecnologia avanÃ§ada de inteligÃªncia artificial com bases de dados confiÃ¡veis, oferecendo suporte clÃ­nico rÃ¡pido, seguro e baseado em evidÃªncias.

### ğŸ§  Conhecimento e funcionamento âš™ï¸

#### ğŸ—‚ï¸ Abordagem RAG (Retrieval-Augmented Generation):

A IA-Maria utiliza a abordagem RAG (Retrieval-Augmented Generation) para fornecer respostas precisas e baseadas em evidÃªncias.

#### ğŸ“‘ IntegraÃ§Ã£o de informaÃ§Ãµes especÃ­ficas:

A IA nÃ£o se limita a conhecimento genÃ©rico prÃ©-treinado, mas utiliza arquivos PDF e conteÃºdos confiÃ¡veis sobre cÃ¢ncer colorretal e pulmonar, alÃ©m de diretrizes oficiais de organizaÃ§Ãµes mÃ©dicas.

#### ğŸ“‹ğŸ‘¨ğŸ»â€âš•ï¸ GeraÃ§Ã£o de relatÃ³rio mÃ©dico de encaminhamento oncolÃ³gico:

- Com base na anÃ¡lise dos dados do paciente, a IA gera automaticamente um relatÃ³rio detalhado contendo:

- Encaminhamento automatizado
  Se os exames indicarem suspeita ou confirmaÃ§Ã£o, a IA gera um documento com todas as informaÃ§Ãµes necessÃ¡rias e sugere que o paciente seja encaminhado para o oncologista

  - IdentificaÃ§Ã£o do paciente (idade, sexo, fatores de risco, sintomas relatados);

  - Resumo da conversa e informaÃ§Ãµes complementares coletadas durante a anamnese;

  - Resultados das anÃ¡lises de risco e recomendaÃ§Ãµes de exames;

  - SugestÃ£o de encaminhamento para oncologista, destacando prioridade e urgÃªncia.

#### ğŸ“© Envio automatizado do relatÃ³rio para profissionais de saÃºde

- O relatÃ³rio gerado pela IA-Maria pode ser enviado diretamente por e-mail a um mÃ©dico ou profissional da saÃºde responsÃ¡vel, contendo:

  - Todos os dados do paciente (idade, sexo, fatores de risco, sintomas relatados);

  - Resumo da anamnese e da conversa realizada;

  - Resultados da anÃ¡lise de risco e recomendaÃ§Ãµes de exames;

  - SugestÃ£o de encaminhamento oncolÃ³gico, com prioridade e urgÃªncia destacadas.

  - Esse envio automatizado garante que o especialista receba todas as informaÃ§Ãµes necessÃ¡rias de forma organizada e imediata, agilizando o diagnÃ³stico e o inÃ­cio do tratamento, alÃ©m de reduzir retrabalho e erros na comunicaÃ§Ã£o clÃ­nica.

#### ğŸ“Š GeraÃ§Ã£o de grÃ¡fico de risco personalizado:

- A IA tambÃ©m produz um grÃ¡fico visual do risco do paciente desenvolver cÃ¢ncer, considerando todos os fatores coletados durante a anamnese.

- O grÃ¡fico permite uma visualizaÃ§Ã£o clara e rÃ¡pida do risco individual, facilitando a comunicaÃ§Ã£o entre mÃ©dico e paciente e auxiliando na decisÃ£o clÃ­nica.

#### ğŸ§ Suporte Ã  decisÃ£o clÃ­nica:

- Ao combinar informaÃ§Ãµes detalhadas do paciente com evidÃªncias cientÃ­ficas, guidelines oficiais e ensaios clÃ­nicos, a IA fornece orientaÃ§Ãµes confiÃ¡veis e humanizadas, potencializando a triagem precoce e a eficiÃªncia do encaminhamento oncolÃ³gico.

---

#### ğŸš€ A IA-Maria nÃ£o se baseia apenas em conhecimento prÃ©-treinado genÃ©rico, mas utiliza informaÃ§Ãµes especÃ­ficas que foram integradas ao sistema, incluindo arquivos PDF e conteÃºdos sobre cÃ¢ncer colorretal e pulmonar.

### ğŸ—ƒï¸ğŸ¯ IntegraÃ§Ã£o com fontes confiÃ¡veis e guidelines oficiais:

Links e referÃªncias de organizaÃ§Ãµes reconhecidas, como:

[American Cancer Society â€“ Lung Cancer Screening Guidelines](https://www.cancer.org/health-care-professionals/american-cancer-society-prevention-early-detection-guidelines/lung-cancer-screening-guidelines.html)

[NEJM â€“ Estudos clÃ­nicos relevantes 1](https://www.nejm.org/doi/full/10.1056/NEJMoa1911793)

[NEJM â€“ Estudos clÃ­nicos relevantes 2](https://chatgpt.com/c/68ec06a5-38d0-8328-8b59-aa6280575bd8#:~:text=NEJM%20%E2%80%93%20Estudos%20cl%C3%ADnicos%20relevantes%202)

[INCA â€“ CÃ¢ncer Colorretal](https://chatgpt.com/c/68ec06a5-38d0-8328-8b59-aa6280575bd8#:~:text=INCA%20%E2%80%93%20C%C3%A2ncer%20Colorretal)

[INCA â€“ CÃ¢ncer de PulmÃ£o](https://www.gov.br/inca/pt-br/assuntos/cancer/tipos/pulmao)

### ğŸ’šğŸ’›ğŸ’™ Fontes internacionais e nacionais confiÃ¡veis:

- Brasil: INCA, MinistÃ©rio da SaÃºde, SBOC

- Europa: ESMO, NICE, European Cancer Organisation

- EUA: USPSTF, NCCN, ASCO

- Ensaios clÃ­nicos e estudos populacionais:

- PulmÃ£o: NLST, NELSON trial

- Colorretal: PLCO, NordICC, UK Flexible Sigmoidoscopy Trial

- Calculadoras de risco validadas:

- PulmÃ£o: PLCOm2012, Bach, LLPi

- Colorretal: QCancer, CRC-PRO, Gail modificado

- Outras fontes:
  - RevisÃµes sistemÃ¡ticas, meta-anÃ¡lises recentes e estatÃ­sticas comparativas de incidÃªncia e mortalidade (Brasil, EUA, Europa).

### ğŸ§  Base de Conhecimento + PDF ğŸ“„

Screening for Colorectal Cancer
US Preventive Services Task Force Recommendation Statement:
[colorectal-cancer-screening-final-recommendation-update.pdf](docs/colorectal-cancer-screening-final-recommendation-updated.pdf)

Screening for Lung Cancer
US Preventive Services Task Force Recommendation Statement: [lung-cancer-screening-final-recommendation.pdf](docs/lung-cancer-screening-final-recommendation.pdf)

The new england journal of medicine:
Effect of Colonoscopy Screening on Risks of Colorectal Cancer and Related Death: [NEJMoa2208375.pdf](docs/NEJMoa2208375.pdf)

- âœ… guideline INCA

- âœ… guideline SBOC

- âœ… uspstf preventive services
  <br>

### â­ BenefÃ­cios clÃ­nicos

- Realiza triagem inteligente e humanizada, identificando pacientes de maior risco.

- Auxilia na priorizaÃ§Ã£o de casos e encaminhamentos, reduzindo exames desnecessÃ¡rios e otimizando o tempo clÃ­nico.

- Fornece suporte baseado em evidÃªncias, fortalecendo a tomada de decisÃ£o de mÃ©dicos e profissionais da atenÃ§Ã£o primÃ¡ria.

- Ampliar o acesso ao rastreamento e Ã  detecÃ§Ã£o precoce de cÃ¢ncer, beneficiando pacientes e sistemas de saÃºde.

## âš™ï¸ Como funciona a AI-Maria

A IA-Maria organiza o fluxo clÃ­nico de forma estruturada, desde a entrada de dados atÃ© o encaminhamento do paciente, oferecendo suporte completo ao profissional de saÃºde:

1. ğŸ² Entrada de dados do paciente:

O profissional de saÃºde registra informaÃ§Ãµes essenciais sobre o paciente, incluindo:

- HistÃ³rico mÃ©dico e familiar;

- Sintomas atuais e duraÃ§Ã£o;

- Resultados de exames anteriores;

- Fatores de risco conhecidos (como tabagismo, idade, hÃ¡bitos alimentares, exposiÃ§Ã£o ocupacional);

- Outros dados clÃ­nicos relevantes que possam influenciar a avaliaÃ§Ã£o.
  <br>

2. ğŸ•µï¸â€â™‚ï¸ AnÃ¡lise pela IA:

Com base nos dados fornecidos, a IA-Maria realiza uma anÃ¡lise inteligente e fundamentada em evidÃªncias mÃ©dicas, utilizando:

- Modelos de risco validados (PLCOm2012, QCancer, entre outros);

- Ensaios clÃ­nicos e estudos populacionais;

- Guidelines oficiais de organizaÃ§Ãµes reconhecidas (INCA, ESMO, NCCN, ASCO, etc.).

A IA calcula a probabilidade de presenÃ§a de cÃ¢ncer colorretal ou pulmonar, identificando pacientes de maior risco e sinalizando prioridades para atendimento.
<br>

3. ğŸ—£ï¸ SugestÃ£o de exames:

Com base na anÃ¡lise, a IA-Maria indica exames apropriados, diferenciando entre:

- InvestigaÃ§Ã£o inicial: exames de triagem ou rastreamento precoce;

- Exames complementares: caso jÃ¡ haja sinais ou fatores de risco que justifiquem investigaÃ§Ã£o mais detalhada.

As recomendaÃ§Ãµes seguem protocolos baseados em evidÃªncias, ajudando a evitar exames desnecessÃ¡rios e otimizando recursos clÃ­nicos.

4. â•°â”ˆâ¤ Encaminhamento automatizado:

Se os resultados dos exames indicarem suspeita ou confirmaÃ§Ã£o de cÃ¢ncer, a IA gera automaticamente:

- Documento de encaminhamento detalhado, com histÃ³rico, dados clÃ­nicos, resultados de exames e probabilidade de risco;

- SugestÃ£o de encaminhamento ao oncologista, destacando prioridades e urgÃªncia;

- OrientaÃ§Ãµes clÃ­nicas adicionais para apoiar decisÃµes do profissional de saÃºde.

Essa funcionalidade permite que o paciente chegue ao especialista com todas as informaÃ§Ãµes necessÃ¡rias, acelerando o diagnÃ³stico e o inÃ­cio do tratamento, ao mesmo tempo que reduz erros e retrabalho.

## ğŸ©ºğŸ‘©ğŸ»â€âš•ï¸ğŸ’Š PÃºblico-Alvo

A IA-Maria foi desenvolvida para apoiar profissionais da saÃºde que atuam na linha de frente do atendimento, especialmente em contextos onde o rastreamento e Ã  detecÃ§Ã£o precoce do cÃ¢ncer e a triagem eficiente fazem diferenÃ§a. Seu uso Ã© indicado para:

âœ… ClÃ­nicos gerais

Profissionais responsÃ¡veis pelo primeiro contato com o paciente. A IA ajuda na identificaÃ§Ã£o precoce de sinais de risco, orientaÃ§Ã£o de condutas iniciais e encaminhamento adequado.

âœ… MÃ©dicos do pronto atendimento

Em cenÃ¡rios com alta demanda e pouco tempo para investigaÃ§Ã£o, a IA-Maria auxilia na priorizaÃ§Ã£o de casos suspeitos e na definiÃ§Ã£o de exames apropriados, evitando atrasos e subdiagnÃ³sticos.

âœ… Especialistas nÃ£o-oncologistas

Profissionais de outras Ã¡reas (como pneumologistas, gastroenterologistas, geriatras, cardiologistas, hepatologistas etc.) podem utilizar a IA para apoio na tomada de decisÃ£o diante de sintomas inespecÃ­ficos ou achados incidentais.

âœ… ServiÃ§os de triagem e atenÃ§Ã£o bÃ¡sica

Equipes de Unidades BÃ¡sicas de SaÃºde, enfermagem, residentes e profissionais da EstratÃ©gia SaÃºde da FamÃ­lia (ESF) podem usar a IA para:

- Coletar dados estruturados.

- Identificar fatores de risco.

- Classificar prioridades.

- Encaminhar adequadamente para exames ou especialistas.

## ğŸ’» Stack TecnolÃ³gica

### ğŸ§  Linguagem e Base do Projeto

#### Python â€” Linguagem principal do sistema, escolhida pela robustez em:

- InteligÃªncia Artificial
- AutomaÃ§Ã£o
- ManipulaÃ§Ã£o de dados
- IntegraÃ§Ã£o com APIs.

---

### âš™ï¸ IntegraÃ§Ã£o com IA

#### âœ…Groq + LangChain:

-     langchain_groq.ChatGroq

#### Utilizado para comunicaÃ§Ã£o com o modelo de linguagem processado pela Groq.

<br>

-     langchain_core.messages

#### EstruturaÃ§Ã£o das mensagens entre usuÃ¡rio e sistema:

                *     SystemMessage

                *     HumanMessage

-     ChatPromptTemplate

#### CriaÃ§Ã£o de prompts dinÃ¢micos e personalizados para a IA.

---

### âœ… LangChain para RAG (Retrieval-Augmented Generation)

- FAISS â€” Armazenamento vetorial para buscas semÃ¢nticas rÃ¡pidas.

- HuggingFaceEmbeddings â€” GeraÃ§Ã£o de embeddings para documentos mÃ©dicos.

- RecursiveCharacterTextSplitter â€” DivisÃ£o inteligente de PDFs e textos longos.

- create_stuff_documents_chain â€” CombinaÃ§Ã£o de documentos para anÃ¡lise contextualizada.

---

### ğŸ“„ ManipulaÃ§Ã£o e ImportaÃ§Ã£o de Documentos

- PyMuPDFLoader â€” Leitura de PDFs mÃ©dicos (guidelines, estudos clÃ­nicos).

- importar_links.carregar_links â€” Carregamento automÃ¡tico de links externos confiÃ¡veis.

---

### ğŸ§¾ EstruturaÃ§Ã£o de Dados e RelatÃ³rios

- pydantic.BaseModel e Field â€” EstruturaÃ§Ã£o e validaÃ§Ã£o dos dados do paciente.

- typing (Literal, List, Dict, Optional) â€” Tipagem usada para organizar entradas e saÃ­das da IA.

---

### ğŸ“Š GeraÃ§Ã£o de GrÃ¡ficos e Imagens

- static.gerar_imagem.gerar_grafico_probabilidades
  CriaÃ§Ã£o de grÃ¡ficos de risco personalizados com base nos dados do paciente.

---

### ğŸ“¬ Envio de RelatÃ³rio MÃ©dico por E-mail

- smtplib, MIMEMultipart, MIMEText â€” Envio automÃ¡tico do relatÃ³rio ao mÃ©dico ou profissional de saÃºde.

- datetime â€” Registro de data/hora no encaminhamento.

---

### ğŸ”’ ConfiguraÃ§Ãµes e VariÃ¡veis de Ambiente

- dotenv (load_dotenv) â€” Gerenciamento de chaves, senhas e credenciais de forma segura.

- os, get_terminal_size, pathlib.Path â€” ManipulaÃ§Ã£o de arquivos e ambiente do sistema.

---

### ğŸ§¼ Processamento e Limpeza de Texto

- re â€” ExpressÃµes regulares para tratamento e formataÃ§Ã£o de texto.

- pathlib â€” OrganizaÃ§Ã£o e leitura de arquivos e diretÃ³rios.

---

### ğŸ§© MÃ³dulos Internos do Projeto

- persistencia.responder â€” GeraÃ§Ã£o de respostas da IA ao usuÃ¡rio.

- persistencia.criar_session â€” CriaÃ§Ã£o e manutenÃ§Ã£o das sessÃµes de chat.

- importar_links â€” Carregamento de fontes externas confiÃ¡veis.

## ğŸ”§ Como Rodar o Projeto

- Clone este repositÃ³rio:

git clone [<URL>](https://github.com/ludmila-sla/hackaton-dev4cancer)

- Crie e ative o ambiente virtual:

python3 -m venv venv
source venv/bin/activate # Linux/Mac
venv\Scripts\activate # Windows

- Instale as dependÃªncias:

pip install -r requirements.txt

- Rode a aplicaÃ§Ã£o Flask:

export FLASK_APP=app.py
export FLASK_ENV=development # ativa modo debug
flask run

- Abra o navegador e acesse: http://127.0.0.1:5000/
<img width="1920" height="1053" alt="Screenshot at 2025-10-12 12-42-42" src="https://github.com/user-attachments/assets/0747fe18-524e-4535-9d19-2c6efe59bcad" />




